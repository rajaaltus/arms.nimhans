(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{502:function(t,e,r){var content=r(520);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("4c2652aa",content,!0,{sourceMap:!1})},519:function(t,e,r){"use strict";var n=r(502);r.n(n).a},520:function(t,e,r){(e=r(14)(!1)).push([t.i,".disp[data-v-5d218030]{font-size:15px}.disp[data-v-5d218030],.disp-icon[data-v-5d218030]{color:#fff;font-weight:400}.disp-icon[data-v-5d218030]{font-size:24px}",""]),t.exports=e},521:function(t,e,r){"use strict";var n={data:function(){return{pcActivities:[{id:1,title:"Clinical Servies",count:12,icon:"mdi-hospital-box",path:"/admin/departments/pcActivities/clinical"},{id:2,title:"Emergency Services",count:5,icon:"mdi-bed",path:"/admin/departments/pcActivities/emergency"},{id:3,title:"Diagnostic Services",count:8,icon:"mdi-needle",path:"/admin/departments/pcActivities/diagnostic"},{id:4,title:"Special Clinics / Services / Procedures",count:14,icon:"mdi-loupe",path:"/admin/departments/pcActivities/special"},{id:5,title:"OT & Other Procedures",count:12,icon:"mdi-fan",path:"/admin/departments/pcActivities/otservice"}]}}},o=(r(519),r(42)),c=r(47),l=r.n(c),d=r(98),v=r(200),f=r(120),m=r(36),h=r(204),_=r(108),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-list",{staticStyle:{"border-radius":"0"},attrs:{flat:"",color:"#41704e"}},[r("v-list-item-group",{attrs:{color:"#ffde00"}},t._l(t.pcActivities,(function(e,i){return r("v-list-item",{key:i,attrs:{to:e.path}},[r("v-list-item-icon",{staticClass:"pl-2 mr-3"},[r("v-icon",{staticClass:"disp-icon",domProps:{textContent:t._s(e.icon)}})],1),t._v(" "),r("v-list-item-content",[r("v-list-item-title",{staticClass:"disp",domProps:{textContent:t._s(e.title)}})],1)],1)})),1)],1)}),[],!1,null,"5d218030",null);e.a=component.exports;l()(component,{VIcon:d.a,VList:v.a,VListItem:f.a,VListItemContent:m.a,VListItemGroup:h.a,VListItemIcon:_.a,VListItemTitle:m.c})},600:function(t,e,r){var content=r(777);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("33142ee0",content,!0,{sourceMap:!1})},601:function(t,e,r){var content=r(779);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("0508896e",content,!0,{sourceMap:!1})},776:function(t,e,r){"use strict";var n=r(600);r.n(n).a},777:function(t,e,r){(e=r(14)(!1)).push([t.i,".frm-title[data-v-255fab58]{border-left:5px solid #e16949;padding:3px 10px}",""]),t.exports=e},778:function(t,e,r){"use strict";var n=r(601);r.n(n).a},779:function(t,e,r){(e=r(14)(!1)).push([t.i,".cust-icon[data-v-8d9471ee]{font-size:20px;color:#ff7e00;padding-right:10px}",""]),t.exports=e},821:function(t,e,r){"use strict";r.r(e);r(20);var n=r(0),o=r(132),c=r(214),l=r(521),d=r(31),v=r.n(d),f={data:function(){return{isLoading:!1,search:"",otservice:{Procedure:"",classification:"",description:"",no_of_patients:null,department:null,annual_year:null,deleted:!1}}},computed:{procedures:function(){return this.$store.state.otservice.otservicesData.map((function(t){return t.Procedure}))}},methods:{addOTService:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.$refs.form.validate()){e.next=6;break}return t.otservice.annual_year=t.$store.state.selectedYear,t.otservice.department=t.$store.state.auth.user.department,r=t.otservice,e.next=6,t.$store.dispatch("otservice/addOTService",r).then((function(e){v.a.fire({title:"Success",text:"Added Successfully!",icon:"success",showConfirmButton:!1,timer:1500}),t.reloadData(),t.reset()})).catch((function(e){t.snackbar=!0,t.submitMessage=e}));case 6:case"end":return e.stop()}}),e)})))()},reloadData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,"",r="department.id=".concat(t.$store.state.auth.user.department,"&deleted_ne=true&annual_year=").concat(t.$store.state.selectedYear),e.next=5,t.$store.dispatch("otservice/setOTServicesData",{qs:r});case 5:t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},reset:function(){this.$refs.form.reset()}}},m=r(42),h=r(47),_=r.n(h),x=r(110),k=r(471),y=r(613),O=r(483),V=r(488),C=r(120),I=r(202),P=r(36),w=r(472),S=r(274),T=r(72),D=r(513),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){t.preventDefault()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"3"}},[r("v-combobox",{attrs:{color:"green",items:t.procedures,loading:t.isLoading,"search-input":t.search,clearable:"","item-text":"Procedure","item-value":"Procedure",label:"Procedure",rules:[function(t){return!!t||"Enter the procedure"}]},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},scopedSlots:t._u([{key:"no-data",fn:function(){return[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[t._v("\n                    No results matching. Press "),r("kbd",[t._v("tab")]),t._v(" to create a new\n                    one\n                  ")])],1)],1)]},proxy:!0},{key:"item",fn:function(e){var n=e.item;return[r("v-list-item-avatar",{staticClass:"headline font-weight-light white--text",attrs:{color:"indigo"}},[t._v("\n                "+t._s(n.charAt(0))+"\n              ")]),t._v(" "),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s(n)}})],1)]}}]),model:{value:t.otservice.Procedure,callback:function(e){t.$set(t.otservice,"Procedure",e)},expression:"otservice.Procedure"}})],1),t._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{color:"green",rules:[function(t){return!!t||"Enter the Classification"}],label:"Classification",required:""},model:{value:t.otservice.classification,callback:function(e){t.$set(t.otservice,"classification",e)},expression:"otservice.classification"}})],1),t._v(" "),r("v-col",{attrs:{cols:"3"}},[r("v-text-field",{attrs:{color:"green",label:"Number Of Patients",type:"number",rules:[function(t){return!!t||"Enter the Total No. of Patients"}]},model:{value:t.otservice.no_of_patients,callback:function(e){t.$set(t.otservice,"no_of_patients",e)},expression:"otservice.no_of_patients"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-textarea",{attrs:{color:"green",label:"Description"},model:{value:t.otservice.description,callback:function(e){t.$set(t.otservice,"description",e)},expression:"otservice.description"}})],1)],1)],1),t._v(" "),r("v-row",{attrs:{"no-gutters":""}},[r("v-spacer"),t._v(" "),r("v-btn",{staticClass:"mr-2",attrs:{small:"",color:"#d74f4f",dark:""},on:{click:t.reset}},[t._v("\n        Reset\n      ")]),t._v(" "),r("v-btn",{attrs:{small:"",color:"#57a727",dark:""},on:{click:t.addOTService}},[t._v("\n        Submit\n      ")])],1)],1)],1)}),[],!1,null,null,null),$=component.exports;_()(component,{VBtn:x.a,VCol:k.a,VCombobox:y.a,VContainer:O.a,VForm:V.a,VListItem:C.a,VListItemAvatar:I.a,VListItemContent:P.a,VListItemTitle:P.c,VRow:w.a,VSpacer:S.a,VTextField:T.a,VTextarea:D.a});r(17),r(12),r(9),r(7),r(13);var j=r(4),Y=r(66);function L(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var A={props:["reportYears"],data:function(){return{valid:!0,loading:!1,annualYear:0,isLoading:!1,search:"",editedItem:{Procedure:"",classification:"",description:"",no_of_patients:0,department:0,annual_year:0,deleted:!1},deletedItem:{Procedure:"",classification:"",description:"",no_of_patients:0,department:0,annual_year:0,deleted:!1},dialog:!1,headers:[{text:"Last updated",align:"left",value:"updated_at"},{text:"Procedure",value:"Procedure"},{text:"Classification",value:"classification"},{text:"Description",value:"description"},{text:"Total Patients",value:"no_of_patients"},{text:"Actions",value:"action",sortable:!1}]}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(Object(source),!0).forEach((function(e){Object(j.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):L(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(Y.c)({otservicesData:function(t){return t.otservice.otservicesData}}),{procedures:function(){return this.$store.state.otservice.otservicesData.map((function(t){return t.Procedure}))}}),mounted:function(){this.annualYear=this.$store.state.selectedYear},watch:{dialog:function(t){t||this.close()},search:function(t){this.procedures.length>0||this.getProcedures()}},methods:{reloadData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,"",r="department.id=".concat(t.$store.state.auth.user.department,"&deleted_ne=true&annual_year=").concat(t.annualYear),e.next=5,t.$store.dispatch("otservice/setOTServicesData",{qs:r});case 5:t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},reset:function(){this.$refs.form.reset()},editItem:function(t){this.editedIndex=this.otservicesData.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this;this.otservicesData.indexOf(t);this.deletedItem=Object.assign({},t),this.deletedItem.deleted=!0;var r=this.deletedItem;confirm("Are you sure you want to delete this item?")&&this.$store.dispatch("otservice/updateOTService",r).then((function(t){v.a.fire({title:"Success",text:"Deleted Successfully!",icon:"success",showConfirmButton:!1,timer:1500}),e.reloadData()})).catch((function(t){e.snackbar=!0,e.submitMessage=t}))},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.otservicesData=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)},save:function(){var t=this;if(this.$refs.editedForm.validate()){if(this.editedIndex>-1){var e=this.editedItem;this.$store.dispatch("otservice/updateOTService",e).then((function(e){v.a.fire({title:"Success",text:"Deleted Successfully!",icon:"success",showConfirmButton:!1,timer:1500}),t.reloadData()})).catch((function(e){t.snackbar=!0,t.submitMessage=e}))}this.close()}}}},R=(r(776),r(97)),E=r(26),F=r(205),M=r(823),z=r(266),B=r(198),N=r(98),H=r(475),J=r(60),G=r(99),K=r(473),Q=Object(m.a)(A,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-data-table",{staticClass:"elevation-1",staticStyle:{"border-radius":"0"},attrs:{headers:t.headers,items:t.otservicesData,"sort-by":"updated_at","sort-desc":"",loading:t.loading,"loading-text":"Loading... Please wait"},scopedSlots:t._u([{key:"item.updated_at",fn:function(e){var r=e.item;return[t._v("\n      "+t._s(t.$moment(r.updated_at).fromNow())+"\n    ")]}},{key:"item.approvalStatus",fn:function(e){var n=e.item;return[r("v-chip",{attrs:{color:t.getColor(n.approvalStatus),dark:""}},[t._v("\n        "+t._s(n.approvalStatus)+"\n      ")])]}},{key:"top",fn:function(){return[r("v-toolbar",{staticClass:"d-flex justify mt-4 pt-1",staticStyle:{"border-radius":"0"},attrs:{flat:"",color:"#ebebeb"}},[r("v-toolbar-title",[r("span",{staticClass:"frm-title"},[t._v("OT & Other Services")])]),t._v(" "),r("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),r("v-select",{staticClass:"justify-end mt-6",attrs:{color:"green",items:t.reportYears,"item-text":"val","item-value":"id",label:"Reporting Year",required:""},on:{change:function(e){return t.reloadData()}},model:{value:t.annualYear,callback:function(e){t.annualYear=e},expression:"annualYear"}}),t._v(" "),r("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),r("v-tooltip",{attrs:{right:"",color:"blue-grey darken-2"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({attrs:{"x-small":"",fab:"",color:"green",dark:""},on:{click:t.reloadData}},n),[r("v-icon",[t._v("mdi-reload")])],1)]}}])},[t._v(" "),r("span",[t._v("Reload Data")])]),t._v(" "),r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",{attrs:{flat:""}},[r("v-toolbar",{attrs:{dark:"",color:"#41704e"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[r("v-icon",[t._v("mdi-close")])],1),t._v(" "),r("v-toolbar-title",[t._v("OT & Other Services")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-toolbar-items",[r("v-btn",{attrs:{dark:"",text:""},on:{click:t.close}},[t._v("\n                  Cancel\n                ")]),t._v(" "),r("v-btn",{attrs:{dark:"",text:""},on:{click:t.save}},[t._v("\n                  Save\n                ")])],1)],1),t._v(" "),r("v-card-text",[r("v-form",{ref:"editedForm",attrs:{"lazy-validation":""},on:{submit:function(t){t.preventDefault()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-container",[r("v-row",[[r("v-col",{attrs:{cols:"4"}},[r("v-combobox",{attrs:{color:"green",items:t.procedures,loading:t.isLoading,"search-input":t.search,clearable:"","item-text":"Procedure","item-value":"Procedure",label:"Procedure",rules:[function(t){return!!t||"Enter the procedure"}]},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},scopedSlots:t._u([{key:"no-data",fn:function(){return[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[t._v("\n                                  No results matching. Press "),r("kbd",[t._v("tab")]),t._v(" to\n                                  create a new one\n                                ")])],1)],1)]},proxy:!0},{key:"item",fn:function(e){var n=e.item;return[r("v-list-item-avatar",{staticClass:"headline font-weight-light white--text",attrs:{color:"indigo"}},[t._v("\n                              "+t._s(n.charAt(0))+"\n                            ")]),t._v(" "),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s(n)}})],1)]}}]),model:{value:t.editedItem.Procedure,callback:function(e){t.$set(t.editedItem,"Procedure",e)},expression:"editedItem.Procedure"}})],1)],t._v(" "),r("v-col",{attrs:{cols:"4"}},[r("v-text-field",{attrs:{color:"green",rules:[function(t){return!!t||"Item is required"}],label:"Classification",required:""},model:{value:t.editedItem.classification,callback:function(e){t.$set(t.editedItem,"classification",e)},expression:"editedItem.classification"}})],1),t._v(" "),r("v-col",{attrs:{cols:"4"}},[r("v-text-field",{attrs:{color:"green",rules:[function(t){return!!t||"Item is required"}],label:"Total Patients"},model:{value:t.editedItem.no_of_patients,callback:function(e){t.$set(t.editedItem,"no_of_patients",e)},expression:"editedItem.no_of_patients"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-textarea",{attrs:{color:"green",label:"Description"},model:{value:t.editedItem.description,callback:function(e){t.$set(t.editedItem,"description",e)},expression:"editedItem.description"}})],1)],2)],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var n=e.item;return[r("v-icon",{attrs:{centre:"",color:"green"},on:{click:function(e){return t.editItem(n)}}},[t._v("mdi-pencil-box")]),t._v(" "),r("v-icon",{attrs:{centre:"",color:"error"},on:{click:function(e){return t.deleteItem(n)}}},[t._v("mdi-delete-circle")])]}}])})],1)}),[],!1,null,"255fab58",null),U=Q.exports;_()(Q,{VBtn:x.a,VCard:R.a,VCardText:E.b,VChip:F.a,VCol:k.a,VCombobox:y.a,VContainer:O.a,VDataTable:M.a,VDialog:z.a,VDivider:B.a,VForm:V.a,VIcon:N.a,VListItem:C.a,VListItemAvatar:I.a,VListItemContent:P.a,VListItemTitle:P.c,VRow:w.a,VSelect:H.a,VSpacer:S.a,VTextField:T.a,VTextarea:D.a,VToolbar:J.a,VToolbarItems:G.a,VToolbarTitle:G.b,VTooltip:K.a});var W={head:function(){return{title:"OT & Other Procedures"}},components:{PageHeader:o.a,YearDialog:c.a,PatientCare:l.a,OTServiceForm:$,OTServiceTable:U},data:function(){return{selectedYear:0}},computed:{reportYears:function(){return this.$store.state.reportYears}},fetch:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store,"",n="department.id=".concat(r.state.auth.user.department,"&deleted_ne=true&annual_year=").concat(r.state.selectedYear),e.next=5,r.dispatch("otservice/setOTServicesData",{qs:n});case 5:case"end":return e.stop()}}),e)})))()}},X=(r(778),r(795)),Z=r(849),tt=r(827),et=Object(m.a)(W,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-tabs",{attrs:{flat:"","background-color":"#323232",color:"#6ac447",dark:""}},[r("v-tab",[r("span",{staticClass:"mdi mdi-note-outline cust-icon"}),t._v("\n      Patient Care Activities\n    ")]),t._v(" "),r("v-tab",[r("span",{staticClass:"mdi mdi-table cust-icon"}),t._v("\n      Records\n    ")]),t._v(" "),r("v-tab-item",[r("v-card",{attrs:{tile:""}},[r("v-card-text",[0==t.$store.state.selectedYear?r("YearDialog"):t._e(),t._v(" "),r("PageHeader",{staticClass:"ml-0 pb-0 pt-0",attrs:{title:t.$metaInfo.title,reportYears:t.reportYears}}),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12",md:"3",lg:"3"}},[r("v-card",{staticClass:"mx-auto"},[r("PatientCare")],1)],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"9",lg:"9"}},[r("OTServiceForm")],1)],1)],1)],1)],1),t._v(" "),r("v-tab-item",[r("v-card",{attrs:{flat:""}},[r("v-card-text",{staticClass:"px-0 py-1"},[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("OTServiceTable",{attrs:{reportYears:t.reportYears}})],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,"8d9471ee",null);e.default=et.exports;_()(et,{VCard:R.a,VCardText:E.b,VCol:k.a,VRow:w.a,VTab:X.a,VTabItem:Z.a,VTabs:tt.a})}}]);