(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{543:function(e,t,r){var content=r(639);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("bf3c1b4c",content,!0,{sourceMap:!1})},638:function(e,t,r){"use strict";var n=r(543);r.n(n).a},639:function(e,t,r){(t=r(14)(!1)).push([e.i,".my-card[data-v-0632e955]{border-top:3px solid #7cb342}.cust-icon[data-v-0632e955]{font-size:20px;padding-right:10px}.disp[data-v-0632e955]{font-size:12px}.disp[data-v-0632e955],.disp-icon[data-v-0632e955]{color:#fff;font-weight:400}.disp-icon[data-v-0632e955]{font-size:24px}",""]),e.exports=t},829:function(e,t,r){"use strict";r.r(t);r(17),r(12),r(9),r(7),r(13),r(20);var n=r(0),o=r(4),c=r(66),l=r(637),d=r.n(l),f=r(132),v=r(31),m=r.n(v);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var w={head:function(){return{title:"Settings"}},components:{PageHeader:f.a,wordcloud:d.a},data:function(){return{blocked:!1,loading:!0,show1:!1,newUser:{username:"",fullname:"",email:"",password:"user@2020",userType:"",department:0,confirmed:!0,blocked:!1},dafaultUser:{username:"",fullname:"",email:"",password:"changemenow",userType:"",department:0,confirmed:!0,blocked:!1},password:"changemenow",userTypes:[{text:"Faculty / Staff",value:"FACULTY"},{text:"Student",value:"STUDENT"}],headers:[{text:"Full Name",value:"fullname"},{text:"Email",value:"email"},{text:"Role",value:"userType"},{text:"Block user",value:"blocked"}],chartOptions:{series:[{data:[1,2,3]}]},myColors:["#1f77b4","#629fc9","#94bedb","#c9e0ef"]}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.c)({users:function(e){return e.user.usersList.result}})),fetch:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.store,"",n="department.id=".concat(r.state.auth.user.department,"&userType_ne=DEPARTMENT"),r.dispatch("user/setUsersList",{qs:n});case 4:case"end":return t.stop()}}),t)})))()},mounted:function(){this.users=this.$store.state.user.usersList.result,this.reloadData()},methods:{deleteItem:function(e){this.$store.dispatch("user/deleteUser",{id:e.id})&&(m.a.fire("deleted"),this.reloadData())},blockUser:function(e,t,r){var n=this,o=Object.assign({},{id:e,blocked:r}),c=r?"block":"unblock";m.a.fire({title:"Are you sure you want to ".concat(c," this user?"),showCancelButton:!0,confirmButtonText:"Yes, I am Sure.",showLoaderOnConfirm:!0,allowOutsideClick:function(){return!m.a.isLoading()}}).then((function(e){e.dismiss||n.$store.dispatch("user/updateUser",o).then((function(e){m.a.fire({type:"success",title:"Updated Successfully!",position:"top-end",icon:"success",showConfirmButton:!1,timer:1500});var t;t="department.id=".concat(n.$store.state.auth.user.department),n.$store.dispatch("user/setUsersList",{qs:t})}))}))},addUser:function(){var e=this;this.newUser.department=this.$store.state.auth.user.department,this.newUser.password=this.password,this.newUser.username=this.newUser.email;var t=this.newUser;this.$store.dispatch("user/addUser",t).then((function(t){m.a.fire({title:"Account Created",text:"User has been added successfully!",icon:"success",showConfirmButton:!1,timer:1500}),e.dialog=!1,e.newUser=Object.assign({},e.defaultUser),e.reloadData()})).catch((function(e){}))},reset:function(){this.$refs.form.reset()},reloadData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loading=!0,"",r="department.id=".concat(e.$store.state.auth.user.department,"&userType_ne=DEPARTMENT"),e.$store.dispatch("user/setUsersList",{qs:r}),e.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},getColor:function(e){return"FACULTY"===e?"green":"orange"},wordClickHandler:function(e,t,r){console.log("wordClickHandler",e,t,r)}}},y=(r(638),r(42)),k=r(47),U=r.n(k),x=r(110),C=r(97),T=r(26),O=r(205),_=r(471),j=r(823),V=r(488),P=r(98),D=r(171),$=r(472),E=r(475),S=r(274),A=r(511),L=r(795),R=r(849),F=r(827),N=r(72),component=Object(y.a)(w,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-tabs",{attrs:{"background-color":"light-green lighten-5",color:"green darken-3",light:"",vertical:""}},[r("v-tab",[r("span",{staticClass:"mdi mdi-account-plus cust-icon"}),e._v("\n      New User\n    ")]),e._v(" "),r("v-tab",[r("span",{staticClass:"mdi mdi-account-check cust-icon"}),e._v("\n      User Approvals\n    ")]),e._v(" "),r("v-tab-item",[e.loading?r("div",{staticStyle:{height:"400px"},attrs:{intermediate:""}},[r("v-row",{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"green"}})],1)],1):r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Create New Account")])]),e._v(" "),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-row",[r("v-col",{attrs:{cols:"4"}},[r("v-select",{attrs:{color:"green",label:"User Type",required:"",outlined:"",items:e.userTypes,"prepend-inner-icon":"mdi-account-question"},model:{value:e.newUser.userType,callback:function(t){e.$set(e.newUser,"userType",t)},expression:"newUser.userType"}})],1),e._v(" "),r("v-col",{attrs:{cols:"8"}},[r("v-text-field",{attrs:{color:"green",label:"Full Name",outlined:"",hint:"Ex: Mr. Mighty Joe",rules:[function(e){return!!e||"Please Enter User's Full Name"}],"prepend-inner-icon":"mdi-account-settings"},model:{value:e.newUser.fullname,callback:function(t){e.$set(e.newUser,"fullname",t)},expression:"newUser.fullname"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{color:"green",label:"Email ID",required:"",hint:"Also your primary Login ID",outlined:"",rules:[function(e){return!!e||"Please enter email"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],"prepend-inner-icon":"email"},model:{value:e.newUser.email,callback:function(t){e.$set(e.newUser,"email",t)},expression:"newUser.email"}})],1),e._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{color:"green",rules:[function(e){return!!e||"Password is Required"}],"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",readonly:"",label:"Password"},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-switch",{staticClass:"pl-2",attrs:{color:"red",label:"Blocked"},model:{value:e.newUser.blocked,callback:function(t){e.$set(e.newUser,"blocked",t)},expression:"newUser.blocked"}})],1)],1)],1)],1),e._v(" "),r("v-card-actions",{staticClass:"pr-5"},[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"green darken-1",small:"",dark:""},on:{click:e.reset}},[e._v("Reset")]),e._v(" "),r("v-btn",{attrs:{color:"green darken-1",small:"",dark:""},on:{click:e.addUser}},[r("v-icon",{staticClass:"pr-2",attrs:{small:""}},[e._v("mdi-account-plus")]),e._v("Create\n            Account")],1)],1)],1)],1),e._v(" "),r("v-tab-item",[r("v-card",{attrs:{flat:""}},[r("v-card-text",{staticClass:"px-0 py-1"},[r("v-data-table",{attrs:{items:e.users,headers:e.headers,loading:e.loading,"loading-text":"Loading... Please wait"},scopedSlots:e._u([{key:"item.userType",fn:function(t){var n=t.item;return[r("v-chip",{attrs:{color:e.getColor(n.userType),dark:""}},[e._v(e._s(n.userType))])]}},{key:"item.blocked",fn:function(t){var n=t.item;return[r("v-switch",{staticClass:"pl-2",attrs:{color:"red",value:!1,"input-value":n.blocked},on:{change:function(t){return e.blockUser(n.id,null!==t,t)}}})]}}])})],1)],1)],1),e._v(" "),r("v-tab-item",[r("v-card",{attrs:{flat:""}},[r("v-card-text",{staticClass:"px-0 py-1"})],1)],1)],1)],1)}),[],!1,null,"0632e955",null);t.default=component.exports;U()(component,{VBtn:x.a,VCard:C.a,VCardActions:T.a,VCardText:T.b,VCardTitle:T.c,VChip:O.a,VCol:_.a,VDataTable:j.a,VForm:V.a,VIcon:P.a,VProgressCircular:D.a,VRow:$.a,VSelect:E.a,VSpacer:S.a,VSwitch:A.a,VTab:L.a,VTabItem:R.a,VTabs:F.a,VTextField:N.a})}}]);