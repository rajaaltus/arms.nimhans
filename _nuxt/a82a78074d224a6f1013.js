(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{485:function(t,e,r){"use strict";r.r(e);r(36),r(23),r(11),r(14),r(4),r(24),r(37),r(7);var n=r(0),l=r(15),o=r(20),d=r(59),c=r.n(d);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable})),e.push.apply(e,r)}return e}var v,h,f,_,k,x={data:function(){return{valid:!1,loading:!1,value:"Hello!",reportYears:[{id:2017,val:"2017-2018"},{id:2018,val:"2018-2019"},{id:2019,val:"2019-2020"},{id:2020,val:"2020-2021"}],selectedYear:0,annualYear:0,hrd:{annual_year:0,course_name:"",other_name:"",candidate_name:"",durations:0,thesis_title:"",guides:"",remarks_status:"",deleted:!1,department:0},editedItem:{annual_year:0,course_name:"",other_name:"",candidate_name:"",durations:0,thesis_title:"",guides:"",remarks_status:"",deleted:!1,department:0},deletedItem:{annual_year:0,course_name:"",other_name:"",candidate_name:"",durations:0,thesis_title:"",guides:"",remarks_status:"",deleted:!1,department:0},courses:[{text:"Post Doctoral Fellow",val:"Post_Doctoral_Fellow"},{text:"Phd",val:"PhD"},{text:"DM / MCH",val:"DM_or_MCH"},{text:"MPhil",val:"MPhil"},{text:"MSc",val:"MSc"},{text:"Others",val:"Others"}],remarks:["Completed","Awarded","Submitted","Ongoing","Joined"],snackbar:!1,timeout:2e3,submitMessage:"Added sucessfully!",dialog:!1,Ydialog:!1,headers:[{text:"Id",align:"left",value:"id"},{text:"Course",value:"course_name"},{text:"Candidate Name",value:"candidate_name"},{text:"Duration",value:"durations"},{text:"Thesis Title",value:"thesis_title"},{text:"Status",value:"remarks_status"},{text:"Actions",value:"action",sortable:!1}]}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(source,!0).forEach(function(e){Object(l.a)(t,e,source[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(source).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))})}return t}({},Object(o.c)({hrdCourses:function(t){return t.hrdCourse.hrdCourses.result}}),{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}}),watch:{dialog:function(t){t||this.close()}},fetch:(k=Object(n.a)(regeneratorRuntime.mark(function t(e){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.store,n="department.id=".concat(r.state.auth.user.department,"&deleted_ne=true&annual_year=").concat(r.state.selectedYear),t.next=5,r.dispatch("hrdCourse/setHRDCourses",{qs:n});case 5:case"end":return t.stop()}},t)})),function(t){return k.apply(this,arguments)}),mounted:function(){this.reset(),this.hrd.annualYear=this.$store.state.selectedYear,this.selectedYear=this.$store.state.selectedYear,0===this.$store.state.selectedYear?this.Ydialog=!0:this.selectedYear=this.$store.state.selectedYear,this.annualYear=this.$store.state.selectedYear,this.selectedYear=this.$store.state.selectedYear,this.reloadData()},methods:{changeReportingYear:(_=Object(n.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("setReportingYear",this.selectedYear);case 2:case"end":return t.stop()}},t,this)})),function(){return _.apply(this,arguments)}),setReportingYear:(f=Object(n.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ydialog=!1,t.next=3,this.$store.dispatch("setReportingYear",this.selectedYear);case 3:case"end":return t.stop()}},t,this)})),function(){return f.apply(this,arguments)}),addHRDCourse:(h=Object(n.a)(regeneratorRuntime.mark(function t(){var e,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$refs.form.validate()&&(this.hrd.annual_year=this.selectedYear,this.hrd.department=this.$store.state.auth.user.department,e=this.hrd,this.$store.dispatch("hrdCourse/addHRDCourse",e).then(function(t){c.a.fire({title:"Success",text:"Added Successfully!",type:"success",showConfirmButton:!1,timer:1500}),r.reset(),r.reloadData()}).catch(function(t){r.snackbar=!0,r.submitMessage=t}));case 1:case"end":return t.stop()}},t,this)})),function(){return h.apply(this,arguments)}),reloadData:function(){this.loading=!0;var t;t="department.id=".concat(this.$store.state.auth.user.department,"&deleted_ne=true&annual_year=").concat(this.annualYear),this.$store.dispatch("hrdCourse/setHRDCourses",{qs:t}),this.loading=!1},reloadByYear:(v=Object(n.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,e="department.id=".concat(this.$store.state.auth.user.department,"&deleted_ne=true&annual_year=").concat(this.annualYear),t.next=5,this.$store.dispatch("hrdCourse/setHRDCourses",{qs:e});case 5:this.loading=!1;case 6:case"end":return t.stop()}},t,this)})),function(){return v.apply(this,arguments)}),reset:function(){this.$refs.form.reset()},editItem:function(t){this.editedIndex=this.hrdCourses.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this;this.hrdCourses.indexOf(t);this.deletedItem=Object.assign({},t),this.deletedItem.deleted=!0;var r=this.deletedItem;confirm("Are you sure you want to delete this item?")&&this.$store.dispatch("hrdCourse/updateHRDCourse",r).then(function(t){c.a.fire({title:"Success",text:"Deleted Successfully!",type:"success",showConfirmButton:!1,timer:1500}),e.reloadData()}).catch(function(t){e.snackbar=!0,e.submitMessage=t})},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.hrdCourses=Object.assign({},t.defaultItem),t.editedIndex=-1},300)},save:function(){var t=this;if(this.editedIndex>-1){var e=this.editedItem;console.log(e);this.$store.dispatch("hrdCourse/updateHRDCourse",e).then(function(e){c.a.fire({title:"Success",text:"Updated Successfully!",type:"success",showConfirmButton:!1,timer:1500}),t.reloadData()}).catch(function(e){t.snackbar=!0,t.submitMessage=e})}else console.log(this.hrdCourses.push(this.editedItem));this.close()}}},C=r(3),component=Object(C.a)(x,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("div",{staticClass:"wrapper-bg",attrs:{id:"sc-page-wrapper"}},[r("div",{attrs:{id:"sc-page-content"}},[r("v-dialog",{attrs:{persistent:"","max-width":"30%"},model:{value:t.Ydialog,callback:function(e){t.Ydialog=e},expression:"Ydialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"title"},[t._v("Select Reporting Year")])]),t._v(" "),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-select",{staticClass:"text-center",attrs:{items:t.reportYears,"item-text":"val","item-value":"id",label:"Reporting Year",required:""},model:{value:t.selectedYear,callback:function(e){t.selectedYear=e},expression:"selectedYear"}})],1)],1)],1)],1),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"blue",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t")]),t._v(" "),r("v-btn",{attrs:{color:"blue",text:""},on:{click:t.setReportingYear}},[t._v("\n\t\t\t\t\t\t\tSet\n\t\t\t\t\t\t")])],1)],1)],1),t._v(" "),r("div",{staticClass:"uk-text-center uk-grid",attrs:{"data-uk-grid":""}},[r("div",{staticClass:"uk-width-auto"},[r("div",{staticClass:"page-title"},[r("h1",{staticClass:"uk-margin-medium-left"},[t._v("\n\t\t\t\t\t\t\tHRD\n\t\t\t\t\t\t")])])]),t._v(" "),r("div",{staticClass:"uk-width-expand@s uk-align-right@s"},[r("div",{staticClass:"uk-align-right",attrs:{"data-uk-form-custom":"target: > * > span:first-child"}},[r("v-select",{attrs:{items:t.reportYears,"item-text":"val","item-value":"id",label:"Reporting Year",required:""},on:{input:t.changeReportingYear},model:{value:t.selectedYear,callback:function(e){t.selectedYear=e},expression:"selectedYear"}})],1)])]),t._v(" "),r("div",{staticClass:"uk-text-center",attrs:{"uk-grid":""}},[r("div",{staticClass:"uk-width-1-4@s uk-width-1-1"},[r("div",{staticClass:"uk-card uk-card-primary"},[r("ul",{staticClass:"uk-margin-left uk-nav-default uk-nav-parent-icon uk-text-left uk-text-bold uk-padding-small",attrs:{"uk-nav":""}},[r("li",{staticClass:"uk-padding-small-bottom"},[r("nuxt-link",{staticClass:"uk-text-normal",attrs:{to:"/admin/departments/hrd"}},[r("span",{staticClass:"uk-margin-small-right",attrs:{"uk-icon":"list"}}),t._v(" Academic Courses\n\t\t\t\t\t\t\t\t")])],1),t._v(" "),r("li",{staticClass:"uk-padding-small-bottom"},[r("nuxt-link",{staticClass:"uk-text-normal",attrs:{to:"/admin/departments/hrd/trainings"}},[r("span",{staticClass:"uk-margin-small-right",attrs:{"uk-icon":"lifesaver"}}),t._v(" Training Programmes\n\t\t\t\t\t\t\t\t")])],1)])])]),t._v(" "),r("div",{staticClass:"uk-width-3-4@s uk-width-1-1"},[r("div",{staticClass:"uk-card uk-card-default uk-card-body uk-text-left"},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("h2",[r("span",{staticClass:"frm-title"},[t._v("Academic Courses")])])])],1),t._v(" "),r("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){t.preventDefault()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"4"}},[r("v-select",{attrs:{rules:[function(t){return!!t||"Item is required"}],items:t.courses,"item-text":"text","item-value":"val",label:"Select Course*"},model:{value:t.hrd.course_name,callback:function(e){t.$set(t.hrd,"course_name",e)},expression:"hrd.course_name"}})],1),t._v(" "),"Others"===t.hrd.course_name?r("v-col",{attrs:{cols:"8"}},[r("v-text-field",{attrs:{rules:[function(t){return!!t||"Item is required"}],label:"Course Name*",required:""},model:{value:t.hrd.other_name,callback:function(e){t.$set(t.hrd,"other_name",e)},expression:"hrd.other_name"}})],1):t._e(),t._v(" "),r("v-col",{attrs:{cols:"5"}},[r("v-text-field",{attrs:{rules:[function(t){return!!t||"Item is required"}],label:"Name of the Candidate*",required:""},model:{value:t.hrd.candidate_name,callback:function(e){t.$set(t.hrd,"candidate_name",e)},expression:"hrd.candidate_name"}})],1),t._v(" "),r("v-col",{attrs:{cols:"3"}},[r("v-text-field",{attrs:{label:"Duration*(Years)",rules:[function(t){return!!t||"Item is required"}],required:"",type:"number"},model:{value:t.hrd.durations,callback:function(e){t.$set(t.hrd,"durations",e)},expression:"hrd.durations"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"Title of Thesis (if applicable)",required:""},model:{value:t.hrd.thesis_title,callback:function(e){t.$set(t.hrd,"thesis_title",e)},expression:"hrd.thesis_title"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"Guides",required:""},model:{value:t.hrd.guides,callback:function(e){t.$set(t.hrd,"guides",e)},expression:"hrd.guides"}})],1),t._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-select",{attrs:{items:t.remarks,label:"Status"},model:{value:t.hrd.remarks_status,callback:function(e){t.$set(t.hrd,"remarks_status",e)},expression:"hrd.remarks_status"}})],1)],1)],1),t._v(" "),r("div",{staticClass:"uk-width-1-1"},[r("div",{staticClass:"uk-width-expand"}),t._v(" "),r("div",{staticClass:"uk-form-controls uk-width-auto uk-align-right"},[r("v-btn",{attrs:{medium:"",color:"#d74f4f",dark:""},on:{click:t.reset}},[t._v("\n\t\t\t\t\t\t\t\t\t\tReset\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),r("v-btn",{attrs:{medium:"",color:"#57a727",dark:""},on:{click:t.addHRDCourse}},[t._v("\n\t\t\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t\t\t")])],1)])],1),t._v(" "),r("v-snackbar",{attrs:{timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.submitMessage)+"\n\t\t\t\t\t\t\t"),r("v-btn",{attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n\t\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t\t")])],1)],1)])]),t._v(" "),r("hr"),t._v(" "),r("v-app",[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.$store.state.hrdCourse.hrdCourses.result,"sort-by":"id","sort-desc":"",loading:t.loading,"loading-text":"Loading... Please wait"},scopedSlots:t._u([{key:"top",fn:function(){return[r("v-toolbar",{staticClass:"d-flex justify pt-1",attrs:{flat:"",color:"#ebebeb"}},[r("v-toolbar-title",[r("span",{staticClass:"frm-title"},[t._v("Academic Courses")])]),t._v(" "),r("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),r("v-select",{staticClass:"justify-end mt-6",attrs:{items:t.reportYears,"item-text":"val","item-value":"id",label:"Select Year"},on:{change:function(e){return t.reloadByYear()}},model:{value:t.annualYear,callback:function(e){t.annualYear=e},expression:"annualYear"}}),t._v(" "),r("v-spacer"),t._v(" "),r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"#4da96b"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[r("v-icon",[t._v("mdi-close")])],1),t._v(" "),r("v-toolbar-title",[t._v("HRD - Academic Courses")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-toolbar-items",[r("v-btn",{attrs:{dark:"",text:""},on:{click:t.close}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),r("v-btn",{attrs:{dark:"",text:""},on:{click:t.save}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t\t\t\t\t")])],1)],1),t._v(" "),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"3"}},[r("v-select",{attrs:{items:t.courses,"item-text":"text","item-value":"val",label:"Course Name"},model:{value:t.editedItem.course_name,callback:function(e){t.$set(t.editedItem,"course_name",e)},expression:"editedItem.course_name"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"12",lg:"9"}},["Others"===t.editedItem.course_name?r("v-text-field",{attrs:{label:"Specify Course Name"},model:{value:t.editedItem.other_name,callback:function(e){t.$set(t.editedItem,"other_name",e)},expression:"editedItem.other_name"}}):t._e()],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"12",lg:"3"}},[r("v-text-field",{attrs:{label:"Candidate Name"},model:{value:t.editedItem.candidate_name,callback:function(e){t.$set(t.editedItem,"candidate_name",e)},expression:"editedItem.candidate_name"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"12",lg:"2"}},[r("v-text-field",{attrs:{label:"Duration",type:"number"},model:{value:t.editedItem.durations,callback:function(e){t.$set(t.editedItem,"durations",e)},expression:"editedItem.durations"}})],1),t._v(" "),r("v-col",{attrs:{cols:"7"}},[r("v-text-field",{attrs:{label:"Thesis Title"},model:{value:t.editedItem.thesis_title,callback:function(e){t.$set(t.editedItem,"thesis_title",e)},expression:"editedItem.thesis_title"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"Guides"},model:{value:t.editedItem.guides,callback:function(e){t.$set(t.editedItem,"guides",e)},expression:"editedItem.guides"}})],1),t._v(" "),r("v-col",{attrs:{cols:"3",md:"3",lg:"3"}},[r("v-select",{attrs:{items:t.remarks,label:"Status"},model:{value:t.editedItem.remarks_status,callback:function(e){t.$set(t.editedItem,"remarks_status",e)},expression:"editedItem.remarks_status"}})],1)],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var n=e.item;return[r("span",{staticClass:"uk-margin-small-right edit-icon",attrs:{"uk-icon":"pencil"},on:{click:function(e){return t.editItem(n)}}}),t._v(" "),r("span",{staticClass:"delete-icon",attrs:{"uk-icon":"trash"},on:{click:function(e){return t.deleteItem(n)}}})]}},{key:"no-data",fn:function(){return[r("v-btn",{attrs:{color:"primary"}},[t._v("\n\t\t\t\t\t\t\tReset\n\t\t\t\t\t\t")])]},proxy:!0}])})],1)],1)])])},[],!1,null,null,null);e.default=component.exports}}]);