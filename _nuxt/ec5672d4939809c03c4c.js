(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{494:function(t,e,r){"use strict";r.r(e);r(36),r(23),r(11),r(14),r(4),r(24),r(7);var n=r(0),c=r(15),o=r(20),l=r(43),d=r.n(l);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable})),e.push.apply(e,r)}return e}var v,m,f={data:function(){return{reportYears:[{id:2017,val:"2017-2018"},{id:2018,val:"2018-2019"},{id:2019,val:"2019-2020"},{id:2020,val:"2020-2021"}],selectedYear:null,dialog:!1,snackbar:!1,timeout:2e3,submitMessage:"Added sucessfully!"}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(source,!0).forEach(function(e){Object(c.a)(t,e,source[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(source).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))})}return t}({},Object(o.b)(["studentActivities"]),{},Object(o.c)({userProfile:function(t){return t.user.userProfile},selectedYear:function(t){return t.selectedYear}})),fetch:(m=Object(n.a)(regeneratorRuntime.mark(function t(e){var r,n,c,o,l,d=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.store,t.next=3,r.dispatch("setStudentActivties");case 3:if(r.state.user.userProfile.success){t.next=7;break}return n=r.state.auth.user.id,t.next=7,r.dispatch("user/setUserProfile",{id:n}).catch(function(t){d.snackbar=!0,d.submitMessage=t});case 7:return c=r.state.auth.user.id,o=r.state.user.userProfile.result.departmentId,l="",l="ROLE_DEPARTMENT"===r.state.auth.user.authorities[0]?"departmentId.equals=".concat(o,"&status.notEquals=DELETED"):"departmentId.equals=".concat(o,"&userProfileId.equals=").concat(c),t.next=13,r.dispatch("program/setProgrammesData",{qs:l});case 13:return t.next=15,r.dispatch("visitor/setVisitorsData",{qs:l});case 15:return t.next=17,r.dispatch("training/setTrainingsData",{qs:l});case 17:return t.next=19,r.dispatch("presentation/setPresentationsData",{qs:l});case 19:return t.next=21,r.dispatch("participation/setParticipationsData",{qs:l});case 21:return t.next=23,r.dispatch("public/setPublicData",{qs:l});case 23:return t.next=25,r.dispatch("research/setResearchData",{qs:l});case 25:return t.next=27,r.dispatch("publication/setPublicationsData",{qs:l});case 27:return t.next=29,r.dispatch("recognition/setRecognitionsData",{qs:l});case 29:return t.next=31,r.dispatch("patent/setPatentsData",{qs:l});case 31:return t.next=33,r.dispatch("assignment/setAssignmentsData",{qs:l});case 33:return t.next=35,r.dispatch("theses/setThesesData",{qs:l});case 35:return l="departmentId.equals=".concat(o,"&status.equals=VALID"),t.next=38,r.dispatch("setStaffs",{qs:l});case 38:case"end":return t.stop()}},t)})),function(t){return m.apply(this,arguments)}),mounted:function(){var t=this;this.userProfile.success?0===this.$store.state.selectedYear?this.dialog=!0:this.selectedYear=this.$store.state.selectedYear:d.a.fire({title:"Your Profile is Empty",text:"Please fill your profile before using this system",icon:"warning",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Proceed"}).then(function(e){e.value&&t.$router.push("/admin/create_user")})},methods:{getActivityCount:function(t){return 1==t?this.$store.state.program.programmesData.result.length:2==t?this.$store.state.visitor.visitorsData.result.length:3==t?this.$store.state.training.trainingsData.result.length:4==t?this.$store.state.presentation.presentationsData.result.length:5==t?this.$store.state.participation.participationsData.result.length:6==t?this.$store.state.public.publicData.result.length:7==t?this.$store.state.research.researchData.result.length:8==t?this.$store.state.publication.publicationsData.result.length:9==t?this.$store.state.recognition.recognitionsData.result.length:10==t?this.$store.state.patent.patentsData.result.length:11==t?this.$store.state.assignment.assignmentsData.result.length:12==t?this.$store.state.theses.thesesData.result.length:void 0},setReportingYear:(v=Object(n.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dialog=!1,t.next=3,this.$store.dispatch("setReportingYear",this.selectedYear);case 3:console.log(this.selectedYear);case 4:case"end":return t.stop()}},t,this)})),function(){return v.apply(this,arguments)})}},k=r(3),component=Object(k.a)(f,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"sc-page-wrapper"}},[r("div",{attrs:{id:"sc-page-content"}},[r("v-row",{attrs:{justify:"center"}},[r("v-cols",{attrs:{cols:"8",md:"6",sm:"4",lg:"6"}},[r("v-dialog",{attrs:{persistent:"","max-width":"30%"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"title"},[t._v("Select Reporting Year")])]),t._v(" "),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-select",{staticClass:"text-center",attrs:{items:t.reportYears,"item-text":"val","item-value":"id",label:"Reporting Year",required:""},model:{value:t.selectedYear,callback:function(e){t.selectedYear=e},expression:"selectedYear"}})],1)],1)],1)],1),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"blue",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n\t\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t\t")]),t._v(" "),r("v-btn",{attrs:{color:"blue",text:""},on:{click:t.setReportingYear}},[t._v("\n\t\t\t\t\t\t\t\tSet\n\t\t\t\t\t\t\t")])],1)],1)],1)],1)],1),t._v(" "),t._m(0),t._v(" "),r("div",{staticClass:"uk-text-center",attrs:{"uk-grid":""}},[r("div",{staticClass:"uk-width-1-4@s uk-width-1-1"},[r("div",{staticClass:"uk-card uk-card-primary"},[r("ul",{staticClass:"uk-nav-default uk-nav-parent-icon uk-text-left uk-text-bold uk-padding-small",attrs:{"uk-nav":""}},t._l(t.studentActivities,function(e,n){return r("li",{key:n,staticClass:"uk-padding-small-bottom"},[r("nuxt-link",{staticClass:"uk-text-normal",attrs:{to:e.path}},[r("span",{staticClass:"uk-margin-small-right",attrs:{"uk-icon":e.icon}}),t._v(" "+t._s(e.title)+"\n\t\t\t\t\t\t\t")])],1)}),0)])]),t._v(" "),r("div",{staticClass:"uk-width-3-4@s uk-width-1-1"},[r("div",{staticClass:"uk-card uk-card-default uk-card-body uk-text-left"},[r("div",{staticClass:"uk-child-width-1-3@xl uk-child-width-1-2@s uk-grid",attrs:{"data-uk-grid":""}},t._l(t.studentActivities,function(e,n){return r("div",{key:n},[r("ScCard",[r("nuxt-link",{staticClass:"sc-padding sc-padding-medium-ends uk-flex uk-flex-middle",attrs:{to:e.path}},[r("div",{staticClass:"uk-flex-1"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t\t\t\t\t"),r("p",{staticClass:"sc-color-secondary uk-margin-remove uk-text-medium"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tTotal Activities: "+t._s(t.getActivityCount(e.id))+"\n\t\t\t\t\t\t\t\t\t\t")])]),t._v(" "),r("div",{staticClass:"md-bg-amber-600 uk-flex uk-flex-middle sc-padding-medium sc-padding-small-ends sc-round"},[r("i",{staticClass:"uk-text-secondary",attrs:{"uk-icon":e.icon}})])])],1)],1)}),0),t._v(" "),r("v-snackbar",{attrs:{timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n\t\t\t\t\t\t"+t._s(t.submitMessage)+"\n\t\t\t\t\t\t"),r("v-btn",{attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t")])],1)],1)])])],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"uk-text-center uk-grid",attrs:{"data-uk-grid":""}},[e("div",{staticClass:"uk-width-auto"},[e("div",{staticClass:"page-title"},[e("h1",{staticClass:"uk-margin-medium-left"},[this._v("\n\t\t\t\t\t\tActivities and Resources\n\t\t\t\t\t")])])])])}],!1,null,null,null);e.default=component.exports}}]);