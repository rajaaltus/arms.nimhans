(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{804:function(t,e,r){"use strict";r.r(e);r(17),r(12),r(9),r(7),r(13),r(20);var d=r(0),n=r(4),o=r(66);r(38),r(43);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var l={props:["departmentId","selectedYear"],data:function(){return{facultyData:null}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.c)({facultyReport:function(t){return t.report.availableReports}})),methods:{downloadFaculty:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"",r="department.id=".concat(t.departmentId,"&annual_year=").concat(t.selectedYear,"&userType=FACULTY"),e.next=4,t.$store.dispatch("report/setAvailableReports",{qs:r});case 4:console.log(t.facultyReport[0]),t.facultyData=t.facultyReport[0],t.$emit("downloadFaculty",t.facultyData);case 7:case"end":return e.stop()}}),e)})))()}}},h=r(42),f=r(47),y=r.n(f),m=r(110),v=r(98),D=r(473),component=Object(h.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-tooltip",{attrs:{right:"",color:"green"},scopedSlots:t._u([{key:"activator",fn:function(e){var d=e.on;return[r("v-btn",t._g({staticClass:"mr-1",attrs:{fab:"","x-small":"",color:"white"},on:{click:t.downloadFaculty}},d),[r("v-icon",{attrs:{color:"blue"}},[t._v("mdi-file-word")])],1)]}}])},[t._v(" "),r("span",[t._v("Download Faculty Report")])])],1)}),[],!1,null,null,null),x=component.exports;y()(component,{VBtn:m.a,VIcon:v.a,VTooltip:D.a});function O(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var w={props:["departmentId","selectedYear"],data:function(){return{studentData:null}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.c)({studentReport:function(t){return t.report.availableReports}})),methods:{downloadStudent:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"",r="department.id=".concat(t.departmentId,"&annual_year=").concat(t.selectedYear,"&userType=STUDENT"),e.next=4,t.$store.dispatch("report/setAvailableReports",{qs:r});case 4:console.log(t.studentReport[0]),t.studentData=t.studentReport[0],t.$emit("downloadStudent",t.studentData);case 7:case"end":return e.stop()}}),e)})))()}}},_=Object(h.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-tooltip",{attrs:{right:"",color:"green"},scopedSlots:t._u([{key:"activator",fn:function(e){var d=e.on;return[r("v-btn",t._g({staticClass:"mr-1",attrs:{fab:"","x-small":"",color:"white"},on:{click:t.downloadStudent}},d),[r("v-icon",{attrs:{color:"blue"}},[t._v("mdi-file-word")])],1)]}}])},[t._v(" "),r("span",[t._v("Download Student Report")])])],1)}),[],!1,null,null,null),j=_.exports;y()(_,{VBtn:m.a,VIcon:v.a,VTooltip:D.a});function R(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var S={props:["selectedYear","department","activityData"],data:function(){return{dialog:!1}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?R(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):R(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.c)({aboutData:function(t){return t.about.newAbout[0]},clinicalData:function(t){return t.clinical.clinicalData.result},emergencyData:function(t){return t.emergency.emergencyData},diagnosticsData:function(t){return t.diagnostic.diagnosticData},specialData:function(t){return t.special.specialData},otservicesData:function(t){return t.otservice.otservicesData},hrdCourses:function(t){return t.hrdCourse.hrdCourses.result},hrdTrainings:function(t){return t.hrdTraining.hrdTrainings.result},retaired:function(t){return t.faculty.facultyData.result}}),{departmentData:function(){return this.formattedAbout+this.formattedClinical+this.formattedEmergency+this.formattedDiagnostics+this.formattedSpecial+this.formattedOT+this.formattedHRD+this.formattedTrainings+this.formattedRetaired+this.activityData?this.activityData.section_a:""+this.activityData.section_b+this.activityData.section_c+this.activityData.section_d+this.activityData.section_e+this.activityData.section_f},formattedAbout:function(){return this.aboutData?"\n      <center>\n      <h2>NATIONAL INSTITUTE OF MENTAL HEALTH &amp; NEUROSCIENCES</h2>\n      <h3>Bengaluru â€“ 560029</h3>\n      <h2>Period of the report:1st April ".concat(this.$store.state.selectedYear," to 31st March ").concat(this.$store.state.selectedYear+1,"</h2>\n      </center>\n      <h1><b><u>Section A:</u></b></h1>\n      <h3>1. ABOUT THE DEPARTMENT</h3>\n      <h3>A. Introduction: Specifically indicate the recognition / contribution of the Department during the year to policies, planning and programmes at State / National and International levels.</h3>\n      <p>").concat(this.aboutData.introduction,"</p>\n      <h3>B. New facilities developed: New initiatives taken up by the Department(s) within NIMHANS during the year.</h3>\n      <p>").concat(this.aboutData.facilities,"</p>\n      "):""},formattedClinical:function(){return this.clinicalData.length>0?'\n\n      <h3>2. PATIENT CARE ACTIVITIES</h3>\n      <h3> A. Clinical Services</h3>\n      <table>\n      <thead>\n      <tr>\n      <th style="border: 1px solid #dddddd;">Clinical Services</th>\n      <th style="border: 1px solid #dddddd;">No. of Patients / Cases</th>\n      </tr>\n      <thead>\n\n      <tbody>\n      <tr>\n      <td style="border: 1px solid #dddddd;">Screenings</td>\n      <td style="border: 1px solid #dddddd;">'.concat(this.clinicalData.reduce((function(t,e){return t+e.screenings}),0),'</td>\n      </tr>\n      <tr>\n      <td style="border: 1px solid #dddddd;">Registrations</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.clinicalData.reduce((function(t,e){return t+e.registrations}),0),'</td>\n      </tr>\n      <tr>\n      <td style="border: 1px solid #dddddd;">followups</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.clinicalData.reduce((function(t,e){return t+e.followups}),0),'</td>\n      </tr>\n      <tr>\n      <td style="border: 1px solid #dddddd;">Admissions</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.clinicalData.reduce((function(t,e){return t+e.admissions}),0),'</td>\n      </tr>\n      <tr>\n      <td style="border: 1px solid #dddddd;">Discharges</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.clinicalData.reduce((function(t,e){return t+e.discharges}),0),'</td>\n      </tr>\n      <tr>\n      <td style="border: 1px solid #dddddd;">Deaths</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.clinicalData.reduce((function(t,e){return t+e.deaths}),0),'</td>\n      </tr>\n      <tr>\n      <td style="border: 1px solid #dddddd;">Emergencies</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.clinicalData.reduce((function(t,e){return t+e.emergencies}),0),'</td>\n      </tr>\n      <tr>\n      <td style="border: 1px solid #dddddd;">External Reference</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.clinicalData.reduce((function(t,e){return t+e.external_ref}),0),'</td>\n      </tr>\n      <tr>\n      <td style="border: 1px solid #dddddd;">Internal Reference</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.clinicalData.reduce((function(t,e){return t+e.internal_ref}),0),"</td>\n      </tr>\n      </tbody>\n      </table>\n      "):""},formattedEmergency:function(){return this.emergencyData.length>0?'\n      <h3> B. Emergency Services</h3>\n      <table>\n      <tr>\n      <th style="border: 1px solid #dddddd;">Emergency Services</th>\n      <th style="border: 1px solid #dddddd;">No.Of Patients /Cases</th>\n      </tr>\n\n      <td style="border: 1px solid #dddddd;">Registrations</td>\n      <td style="border: 1px solid #dddddd;">'.concat(this.emergencyData.reduce((function(t,e){return t+e.registrations}),0),'</td>\n      </tr>\n      <tr>\n      <td style="border: 1px solid #dddddd;">Admissions</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.emergencyData.reduce((function(t,e){return t+e.admissions}),0),'</td>\n      </tr>\n      <tr>\n      <td style="border: 1px solid #dddddd;">Deaths</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.emergencyData.reduce((function(t,e){return t+e.deaths}),0),'</td>\n      </tr>\n      <tr>\n      <td style="border: 1px solid #dddddd;">External Reference</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.emergencyData.reduce((function(t,e){return t+e.external_ref}),0),'</td>\n      </tr>\n      <tr>\n      <td style="border: 1px solid #dddddd;">Internal Reference</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.emergencyData.reduce((function(t,e){return t+e.internal_ref}),0),"</td>\n      </tr>\n      </table>\n      "):""},formattedDiagnostics:function(){if(this.diagnosticsData.length>0){for(var html='\n      <h3> C. Diagnostic Services</h3>\n      <table>\n      <tr>\n      <th style="border: 1px solid #dddddd;">Lab Services</th>\n      <th style="border: 1px solid #dddddd;">Total No.Of Samples Analyzed</th>\n      </tr>',i=0;i<this.diagnosticsData.length;i++){html+='<tr>\n      <td style="border: 1px solid #dddddd;">'.concat(this.diagnosticsData[i].pc_diagnostic_test.test_name,'</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.diagnosticsData[i].samples_analyzed,"</td>\n      </tr>")}return html+="</table>\n      "}return""},formattedSpecial:function(){if(this.specialData.length>0){for(var html='\n      <h3>D. Special Clinics / Services / Procedures</h3>\n      <table>\n      <tr>\n      <th style="border: 1px solid #dddddd;">Special Services</th>\n      <th style="border: 1px solid #dddddd;">New Patients</th>\n      <th style="border: 1px solid #dddddd;">Follow-up Patients</th>\n      <th style="border: 1px solid #dddddd;">Referrals</th>\n      <th style="border: 1px solid #dddddd;">Description</th>\n      </tr>',i=0;i<this.specialData.length;i++){html+='<tr>\n      <td style="border: 1px solid #dddddd;">'.concat(this.specialData[i].service_name,'</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.specialData[i].new_patients,'</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.specialData[i].followup_patients,'</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.specialData[i].referrals,'</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.specialData[i].description,"</td>\n      </tr>")}return html+="</table>\n      "}return""},formattedOT:function(){if(this.otservicesData.length>0){for(var html='\n      <h3>E.\tOT & Other Procedures</h3>\n      <table>\n      <tr>\n      <th style="border: 1px solid #dddddd;">Procedure Name</th>\n      <th style="border: 1px solid #dddddd;">Classification</th>\n      <th style="border: 1px solid #dddddd;">No of Patients</th>\n      <th style="border: 1px solid #dddddd;">Description</th>\n      </tr>',i=0;i<this.otservicesData.length;i++){html+='<tr>\n      <td style="border: 1px solid #dddddd;">'.concat(this.otservicesData[i].Procedure,'</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.otservicesData[i].classification,'</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.otservicesData[i].no_of_patients,'</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.otservicesData[i].description,"</td>\n      </tr>")}return html+="</table>\n      "}return""},formattedHRD:function(){if(this.hrdCourses.length>0){for(var html='\n      <h3>3.\tHUMAN RESOURCE DEVELOPMENT </h3>\n      <h3>A.\tDetails of Regular Courses</h3>\n      <table>\n      <tr>\n      <th style="border: 1px solid #dddddd;">Course</th>\n      <th style="border: 1px solid #dddddd;">Name of the Candidate</th>\n      <th style="border: 1px solid #dddddd;">Duration</th>\n      <th style="border: 1px solid #dddddd;">Status</th>\n      <th style="border: 1px solid #dddddd;">Title of the thesis (If any)</th>\n      <th style="border: 1px solid #dddddd;">Guide(s)(If any)</th>\n      </tr>',i=0;i<this.hrdCourses.length;i++){html+='<tr>\n      <td style="border: 1px solid #dddddd;">'.concat(this.hrdCourses[i].course_name,'</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.hrdCourses[i].candidate_name,'</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.hrdCourses[i].durations,' Years</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.hrdCourses[i].remarks_status,'</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.hrdCourses[i].thesis_title,'</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.hrdCourses[i].guides,"</td>\n      </tr>")}return html+="</table>\n      "}return""},formattedTrainings:function(){if(this.hrdTrainings.length>0){for(var html='\n      <h3>B.\tFaculty/staff/students from other institutions trained at NIMHANS</h3>\n      <table>\n      <tr>\n      <th style="border: 1px solid #dddddd;">Name of the course / Training</th>\n      <th style="border: 1px solid #dddddd;">Institutional affiliation</th>\n      <th style="border: 1px solid #dddddd;">Number of Candidates</th>\n      <th style="border: 1px solid #dddddd;">From</th>\n      <th style="border: 1px solid #dddddd;">To</th>\n      <th style="border: 1px solid #dddddd;">Status</th>\n      <th style="border: 1px solid #dddddd;">Description</th>\n      </tr>',i=0;i<this.hrdTrainings.length;i++){html+='<tr>\n      <td style="border: 1px solid #dddddd;">'.concat(this.hrdTrainings[i].training_name,'</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.hrdTrainings[i].institutional_affiliation,'</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.hrdTrainings[i].no_of_candidates,' Years</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.hrdTrainings[i].from_date,'</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.hrdTrainings[i].to_date,'</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.hrdTrainings[i].remarks_status,'</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.hrdTrainings[i].brief_report,"</td>\n      </tr>")}return html+="</table>\n      "}return""},formattedRetaired:function(){if(this.retaired.length>0){for(var html='\n      <h3>4.\tDETAILS OF DEPARTMENTAL STAFF</h3>\n      <h3>B.\tA.\tList of Faculty and staff served NIMHANS and Superannuated / Resigned / VRS</h3>\n      <table>\n      <tr>\n      <th style="border: 1px solid #dddddd;">Superannuated / Resigned / VRS</th>\n      <th style="border: 1px solid #dddddd;">Name of the Official and Designation</th>\n      <th style="border: 1px solid #dddddd;">Date of Joining</th>\n      <th style="border: 1px solid #dddddd;">Date of Leaving</th>\n      <th style="border: 1px solid #dddddd;">Image URL</th>\n      </tr>',i=0;i<this.retaired.length;i++){html+='<tr>\n      <td style="border: 1px solid #dddddd;">'.concat(this.retaired[i].faculty_status,'</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.retaired[i].faculty_name,'</td>\n      <td style="border: 1px solid #dddddd;"></td>\n      <td style="border: 1px solid #dddddd;">').concat(this.retaired[i].leaving_date,'</td>\n      <td style="border: 1px solid #dddddd;">').concat(this.retaired[i].image?this.retaired[i].image:"","</td>\n      </tr>")}return html+="</table>\n      "}return""}}),mounted:function(){var t;t="department.id=".concat(this.department.id,"&annual_year=").concat(this.selectedYear),this.$store.dispatch("about/setAboutData",{query:t}),this.$store.dispatch("clinical/setClinicalData",{qs:t}),this.$store.dispatch("emergency/setEmergencyData",{qs:t}),this.$store.dispatch("diagnostic/setDiagnosticData",{qs:t}),this.$store.dispatch("special/setSpecialData",{qs:t}),this.$store.dispatch("otservice/setOTServicesData",{qs:t}),this.$store.dispatch("hrdCourse/setHRDCourses",{qs:t}),this.$store.dispatch("hrdTraining/setHRDTrainings",{qs:t}),this.$store.dispatch("faculty/setFacultyData",{qs:t}),this.dialog=!0},methods:{handleClose:function(){this.$emit("closed"),this.dialog=!1},exportToDoc:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>Export HTML To Doc</title></head><body>",r="</body></html>",html=e+document.getElementById("savedDoc").innerHTML+r,d=new Blob(["\ufeff",html],{type:"application/msword"}),n="data:application/vnd.ms-word;charset=utf-8,"+encodeURIComponent(html);t=t?t+".doc":"document.doc";var o=document.createElement("a");document.body.appendChild(o),navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(d,t):(o.href=n,o.download=t,o.click()),document.body.removeChild(o)}}},T=r(97),C=r(26),P=r(266),E=r(76),k=Object(h.a)(S,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{scrollable:"","max-width":"400px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",{staticClass:"align-center"},[r("v-sheet",{staticStyle:{display:"none"},attrs:{id:"savedDoc"},domProps:{innerHTML:t._s(t.departmentData)}}),t._v(" "),r("v-card-actions",[r("v-btn",{staticClass:"ma-2",attrs:{tile:"",outlined:"",color:"success"},on:{click:function(e){return t.exportToDoc(""+t.department.name)}}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-file-word")]),t._v(" Download report\n      ")],1),t._v(" "),r("v-btn",{attrs:{color:"red",text:""},on:{click:t.handleClose}},[t._v("Close")])],1)],1)],1)}),[],!1,null,null,null),A=k.exports;function I(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}y()(k,{VBtn:m.a,VCard:T.a,VCardActions:C.a,VDialog:P.a,VIcon:v.a,VSheet:E.a});var Y={props:["selectedYear","department"],components:{FacultyReport:x,StudentReport:j,ReportDialog:A},data:function(){return{report:null,available:"notSubmitted",cardColor:"red",dark:!0,availableData:null,loading:!1,activityData:null,selectedDepartment:null,dialog:!1,isStudentReport:!1,isFacultyReport:!1}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?I(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):I(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.c)({availableReports:function(t){return t.report.availableReports}})),mounted:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setReport();case 1:case"end":return e.stop()}}),e)})))()},methods:{downloadFaculty:function(t){var e=this;return Object(d.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.activityData=t,e.facultyData=t,e.selectedDepartment=t.department,e.dialog=!0;case 4:case"end":return r.stop()}}),r)})))()},downloadStudent:function(t){var e=this;return Object(d.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.activityData=t,e.studentData=t,e.selectedDepartment=t.department,e.dialog=!0;case 4:case"end":return r.stop()}}),r)})))()},setReport:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var r,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="",0!=t.selectedYear){e.next=7;break}t.available="default",t.cardColor="white",t.dark=!1,e.next=13;break;case 7:return t.loading=!0,r="department.id=".concat(t.department.id,"&annual_year=").concat(t.selectedYear),e.next=11,t.$store.dispatch("report/setAvailableReports",{qs:r});case 11:t.availableReports.length>0&&(t.available="available",t.cardColor="light-green",t.dark=!0,d=t.availableReports.map((function(t){return t.userType})),t.isFacultyReport=d.includes("FACULTY"),t.isStudentReport=d.includes("STUDENT")),t.loading=!1;case 13:case"end":return e.stop()}}),e)})))()}}},N=r(482),V=Object(h.a)(Y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.dialog?r("ReportDialog",{attrs:{selectedYear:t.selectedYear,department:t.selectedDepartment,activityData:t.activityData},on:{closed:function(e){t.dialog=!1}}}):t._e(),t._v(" "),r("v-card",{attrs:{loading:t.loading,tile:"",elevation:"1",color:t.cardColor,dark:t.dark}},[r("v-card-title",[r("span",{staticClass:"subtitle-1 font-weight-normal d-inline-block text-truncate"},[t._v(t._s(t.department.name))])]),t._v(" "),"default"===t.available?r("v-card-text",[r("v-layout",{attrs:{"align-start":"","justify-start":""}},[r("v-btn",{staticClass:"mr-1",attrs:{fab:"","x-small":"",color:"white",disabled:""}},[r("v-icon",{attrs:{color:"blue"}},[t._v("mdi-file-word")])],1),t._v(" "),r("v-btn",{attrs:{fab:"","x-small":"",color:"white",disabled:""}},[r("v-icon",{attrs:{color:"blue"}},[t._v("mdi-file-word")])],1)],1)],1):t._e(),t._v(" "),"available"===t.available?r("v-card-text",[r("v-layout",{attrs:{"align-start":"","justify-start":""}},[t.isFacultyReport?r("FacultyReport",{attrs:{departmentId:t.department.id,selectedYear:t.selectedYear},on:{downloadFaculty:t.downloadFaculty}}):t._e(),t._v(" "),t.isStudentReport?r("StudentReport",{attrs:{departmentId:t.department.id,selectedYear:t.selectedYear},on:{downloadStudent:t.downloadStudent}}):t._e()],1)],1):t._e(),t._v(" "),"notSubmitted"===t.available?r("v-card-text",[r("v-layout",{attrs:{"align-start":"","justify-start":""}},[r("v-tooltip",{attrs:{right:"",color:"red"},scopedSlots:t._u([{key:"activator",fn:function(e){var d=e.on;return[r("v-btn",t._g({attrs:{fab:"","x-small":"",color:"white"}},d),[r("v-icon",{attrs:{color:"blue"}},[t._v("mdi-send")])],1)]}}],null,!1,4239921130)},[t._v(" "),r("span",[t._v("Send Reminder")])])],1)],1):t._e()],1)],1)}),[],!1,null,null,null),$=V.exports;function F(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}y()(V,{VBtn:m.a,VCard:T.a,VCardText:C.b,VCardTitle:C.c,VIcon:v.a,VLayout:N.a,VTooltip:D.a});var L={layout:"super",components:{DepartmentCard:$},data:function(){return{selectedYear:0,cardColor:"white",dark:!1,available:"default",updateList:0}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?F(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):F(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.c)({departments:function(t){return t.user.departments.result}}),{reportYears:function(){return this.$store.state.reportYears}}),fetch:function(t){return Object(d.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store,e.next=3,r.dispatch("user/getAllDepartment");case 3:case"end":return e.stop()}}),e)})))()},mounted:function(){this.$store.dispatch("snackbar/setSnackbar",{text:"Successfully logged In."})},methods:{fetchData:function(){console.log(this.selectedYear),this.$store.dispatch("user/getAllDepartment"),this.updateList++}}},B=r(471),H=r(483),M=r(472),U=r(475),J=Object(h.a)(L,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-container",{attrs:{fluid:""}},[r("v-row",{staticClass:"pr-4"},[r("v-col",{attrs:{cols:"12",lg:"3"}},[r("v-select",{ref:"year",staticClass:"disp",attrs:{outlined:"",dense:"",items:t.reportYears,"item-value":"id","item-text":"val",label:"Reporting Year",placeholder:"Pick Year",color:"success"},on:{change:t.fetchData},model:{value:t.selectedYear,callback:function(e){t.selectedYear=e},expression:"selectedYear"}})],1)],1),t._v(" "),r("v-row",{key:t.updateList,attrs:{"no-gutters":""}},t._l(t.departments,(function(e,d){return r("v-col",{key:d,attrs:{cols:"3",lg:"2",index:d}},[r("DepartmentCard",{attrs:{selectedYear:t.selectedYear,department:e}})],1)})),1),t._v(" "),r("TheSnackbar")],1)],1)}),[],!1,null,null,null);e.default=J.exports;y()(J,{VCol:B.a,VContainer:H.a,VRow:M.a,VSelect:U.a})}}]);