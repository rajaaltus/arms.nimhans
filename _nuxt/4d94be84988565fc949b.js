(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{375:function(e,t,r){"use strict";r.r(t);var n=r(2),o=r(384),c=r.n(o);n.default.use(c.a)},377:function(e,t,r){var content=r(470);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(17).default)("1c7148c6",content,!0,{sourceMap:!1})},469:function(e,t,r){"use strict";var n=r(377);r.n(n).a},470:function(e,t,r){(e.exports=r(16)(!1)).push([e.i,".page-title{background:none;border-left:10px solid #57a727;display:inline-flex;line-height:0;height:40px;vertical-align:center!important}.uk-grid-grey{margin-top:0!important;background:none!important;box-shadow:none!important}.ck.ck-toolbar{background:none!important;border-radius:.4em .4em 0 0!important}.msg{font-size:14px;color:#000}",""])},507:function(e,t,r){"use strict";r.r(t);r(36),r(23),r(11),r(14),r(4),r(24),r(380),r(29),r(37),r(7);var n=r(0),o=r(15),c=r(20),d=r(43),l=r.n(d);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable})),t.push.apply(t,r)}return t}r(375);var f,m,v,I,w,y,Y={name:"DepartmentAbout",data:function(){var e;return e={Ydialog:!1,editorConfig:{},selectedYear:0,departmentAbout:{annualYear:0,departmentId:0,status:"VALID",introduction:"",facilities:""},editedItem:{annualYear:0,departmentId:0,status:"VALID",introduction:"",facilities:""},file:"",addDepartmentImage:{departmentProfileId:0,imageCode:"",name:"",path:"",status:"VALID"},addImageContent:{data:"",dataContentType:"",departmentImageId:0,status:"VALID"},reportYears:[{id:2017,val:"2017-2018"},{id:2018,val:"2018-2019"},{id:2019,val:"2019-2020"},{id:2020,val:"2020-2021"}]},Object(o.a)(e,"selectedYear",0),Object(o.a)(e,"aboutImages",[]),e},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(source,!0).forEach(function(t){Object(o.a)(e,t,source[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(source).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))})}return e}({},Object(c.c)({aboutData:function(e){return e.depabout.aboutData}}),{editor:function(){return r(385)},uniqueID:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-",i=0;i<8;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}}),fetch:(y=Object(n.a)(regeneratorRuntime.mark(function e(t){var r,n,o,c,d=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store,n=r.state.auth.user.id,e.next=4,r.dispatch("user/setUserProfile",{id:n}).catch(function(e){d.snackbar=!0,d.submitMessage=e});case 4:return o=r.state.user.userProfile.result.departmentId,r.state.user.userProfile.result.userId,this.selectedYear=r.state.selectedYear,console.log(o),c="departmentId.equals=".concat(o,"&annualYear.equals=").concat(this.selectedYear),console.log(c),e.next=13,r.dispatch("depabout/setAboutData",{query:c});case 13:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)}),mounted:function(){0==this.$store.state.selectedYear?this.Ydialog=!0:this.selectedYear=this.$store.state.selectedYear,this.aboutData.result.length>0&&(this.departmentAbout=Object.assign({},this.$store.state.depabout.aboutData.result[0]))},methods:{addProfile:(w=Object(n.a)(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.aboutData.result.length>0&&this.aboutData.result[0].annualYear==this.selectedYear)){e.next=8;break}return this.departmentAbout.id=this.$store.state.user.userProfile.result.departmentId,t=this.departmentAbout,console.log(t),e.next=6,this.$store.dispatch("depabout/updateAbout",t).then(function(e){l.a.fire({title:"Success",text:"Department Profile Added!",type:"success",showConfirmButton:!1,timer:1500}),r.reload()}).catch(function(e){console.log(e)});case 6:e.next=14;break;case 8:return this.departmentAbout.annualYear=this.selectedYear,this.departmentAbout.departmentId=this.$store.state.user.userProfile.result.departmentId,t=this.departmentAbout,console.log(t),e.next=14,this.$store.dispatch("depabout/addProfile",t).then(function(e){l.a.fire({title:"Success",text:"Profile Added!",type:"success",showConfirmButton:!1,timer:1500}),r.reload()}).catch(function(e){console.log(e)});case 14:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)}),reload:(I=Object(n.a)(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$store.state.user.userProfile.result.departmentId,r="departmentId.equals=".concat(t,"&annualYear.equals=").concat(this.selectedYear),e.next=5,this.$store.dispatch("depabout/setAboutData",{query:r});case 5:case"end":return e.stop()}},e,this)})),function(){return I.apply(this,arguments)}),changeReportingYear:(v=Object(n.a)(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("setReportingYear",this.selectedYear);case 2:return t=this.$store.state.user.userProfile.result.departmentId,r="departmentId.equals=".concat(t,"&annualYear.equals=").concat(this.selectedYear),e.next=7,this.$store.dispatch("depabout/setAboutData",{query:r});case 7:this.aboutData.result.length>0?this.departmentAbout=Object.assign({},this.$store.state.depabout.aboutData.result[0]):this.departmentAbout={};case 8:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)}),setReportingYear:(m=Object(n.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ydialog=!1,e.next=3,this.$store.dispatch("setReportingYear",this.selectedYear);case 3:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)}),handleFileUpload:function(){this.file=this.$refs.file.files[0]},submitFile:(f=Object(n.a)(regeneratorRuntime.mark(function e(){var t,r,n,o,c,d,l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.file.name,r=this.uniqueID,n="",o=this.file,n=o.type,c=this.deptProfileId,this.addDepartmentImage.departmentProfileId=c,this.addDepartmentImage.imageCode=r,this.addDepartmentImage.name=t,this.addDepartmentImage.path=t,d=this.addDepartmentImage,l=[],(h=new FileReader).readAsArrayBuffer(this.file),h.onloadend=function(e){if(e.target.readyState==FileReader.DONE)for(var t=e.target.result,r=new Uint8Array(t),i=0;i<r.length;i++)l.push(r[i])},!l){e.next=31;break}return console.log(d),e.next=24,this.$store.dispatch("depabout/addDeptImage",d);case 24:return this.addImageContent.data=l,this.addImageContent.dataContentType=n,this.addImageContent.departmentImageId=this.$store.state.depabout.addedImageId,d=this.addImageContent,console.log(d),e.next=31,this.$store.dispatch("depabout/addDeptImageContent",d).then(function(e){console.log(e),console.log(e.id)}).catch(function(e){console.log(e)});case 31:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})}},x=(r(469),r(3)),component=Object(x.a)(Y,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("div",{staticClass:"wrapper-bg",attrs:{id:"sc-page-wrapper"}},[r("div",{attrs:{id:"sc-page-content"}},[r("div",{staticClass:"uk-text-center uk-grid",attrs:{"data-uk-grid":""}},[r("div",{staticClass:"uk-width-auto"},[r("div",{staticClass:"page-title"},[r("h1",{staticClass:"uk-margin-medium-left uk-text-left"},[e._v("\n\t\t\t\t\t\t\t\tConsolidated Annual Report "),r("br"),e._v(" "),r("span",{staticClass:"msg"},[e._v("\n                                    The following features will be enabled in the upcoming version."),r("br"),e._v("\n                                    1. Generate Yearly / Monthly, Individual's, Section wise Reports "),r("br"),e._v("\n                                    2. Generate Charts, and "),r("br"),e._v("\n                                    3. Generate your CV "),r("br"),e._v("\n\n                                    Stay Tuned.. Thank you!\n                                ")])])])]),e._v(" "),r("div",{staticClass:"uk-width-expand uk-align-right"},[r("div",{staticClass:"uk-align-right",attrs:{"data-uk-form-custom":"target: > * > span:first-child"}},[r("v-select",{attrs:{items:e.reportYears,"item-text":"val","item-value":"id",label:"Reporing Year",required:""},on:{input:e.changeReportingYear},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}})],1)])])])])])},[],!1,null,null,null);t.default=component.exports}}]);