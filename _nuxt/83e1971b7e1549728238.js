(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{502:function(e,t,n){var content=n(520);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(15).default)("4c2652aa",content,!0,{sourceMap:!1})},519:function(e,t,n){"use strict";var r=n(502);n.n(r).a},520:function(e,t,n){(t=n(14)(!1)).push([e.i,".disp[data-v-5d218030]{font-size:15px}.disp[data-v-5d218030],.disp-icon[data-v-5d218030]{color:#fff;font-weight:400}.disp-icon[data-v-5d218030]{font-size:24px}",""]),e.exports=t},521:function(e,t,n){"use strict";var r={data:function(){return{pcActivities:[{id:1,title:"Clinical Servies",count:12,icon:"mdi-hospital-box",path:"/admin/departments/pcActivities/clinical"},{id:2,title:"Emergency Services",count:5,icon:"mdi-bed",path:"/admin/departments/pcActivities/emergency"},{id:3,title:"Diagnostic Services",count:8,icon:"mdi-needle",path:"/admin/departments/pcActivities/diagnostic"},{id:4,title:"Special Clinics / Services / Procedures",count:14,icon:"mdi-loupe",path:"/admin/departments/pcActivities/special"},{id:5,title:"OT & Other Procedures",count:12,icon:"mdi-fan",path:"/admin/departments/pcActivities/otservice"}]}}},l=(n(519),n(42)),o=n(47),c=n.n(o),d=n(98),f=n(200),v=n(120),m=n(36),x=n(204),h=n(108),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list",{staticStyle:{"border-radius":"0"},attrs:{flat:"",color:"#41704e"}},[n("v-list-item-group",{attrs:{color:"#ffde00"}},e._l(e.pcActivities,(function(t,i){return n("v-list-item",{key:i,attrs:{to:t.path}},[n("v-list-item-icon",{staticClass:"pl-2 mr-3"},[n("v-icon",{staticClass:"disp-icon",domProps:{textContent:e._s(t.icon)}})],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",{staticClass:"disp",domProps:{textContent:e._s(t.title)}})],1)],1)})),1)],1)}),[],!1,null,"5d218030",null);t.a=component.exports;c()(component,{VIcon:d.a,VList:f.a,VListItem:v.a,VListItemContent:m.a,VListItemGroup:x.a,VListItemIcon:h.a,VListItemTitle:m.c})},592:function(e,t,n){var content=n(761);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(15).default)("26eb4570",content,!0,{sourceMap:!1})},593:function(e,t,n){var content=n(763);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(15).default)("0fbaf4cb",content,!0,{sourceMap:!1})},594:function(e,t,n){var content=n(765);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(15).default)("a8290490",content,!0,{sourceMap:!1})},760:function(e,t,n){"use strict";var r=n(592);n.n(r).a},761:function(e,t,n){(t=n(14)(!1)).push([e.i,".frm-title[data-v-46bf065f]{border-left:5px solid #f5943d;padding:3px 10px}",""]),e.exports=t},762:function(e,t,n){"use strict";var r=n(593);n.n(r).a},763:function(e,t,n){(t=n(14)(!1)).push([e.i,".frm-title[data-v-05bb2bee]{border-left:5px solid #e16949;padding:3px 10px}",""]),e.exports=t},764:function(e,t,n){"use strict";var r=n(594);n.n(r).a},765:function(e,t,n){(t=n(14)(!1)).push([e.i,".cust-icon[data-v-10567952]{font-size:24px;color:#ff7e00;padding-right:10px}",""]),e.exports=t},818:function(e,t,n){"use strict";n.r(t);n(20);var r=n(0),l=n(132),o=n(214),c=n(521),d=n(31),f=n.n(d),v={data:function(){return{pcClinical:{annual_year:0,screenings:null,registrations:null,followups:null,admissions:null,discharges:null,deaths:null,emergencies:null,external_ref:null,internal_ref:null,deleted:!1,department:null},selectedYear:0}},methods:{reset:function(){this.$refs.form.reset()},addClinical:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.form.validate()&&(e.pcClinical.annual_year=e.$store.state.selectedYear,e.pcClinical.department=e.$store.state.auth.user.department,n=e.pcClinical,e.$store.dispatch("clinical/addClinical",n).then((function(t){f.a.fire({title:"Success",text:"Added Successfully!",icon:"success",showConfirmButton:!1,timer:1500}),e.reset(),e.reloadData()})).catch((function(t){e.snackbar=!0,e.submitMessage=t})));case 1:case"end":return t.stop()}}),t)})))()},reloadData:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,"",n="department.id=".concat(e.$store.state.auth.user.department,"&deleted_ne=true&annual_year=").concat(e.$store.state.selectedYear),t.next=5,e.$store.dispatch("clinical/setClinicalData",{qs:n});case 5:e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()}}},m=(n(760),n(42)),x=n(47),h=n.n(x),_=n(110),C=n(471),y=n(483),I=n(488),k=n(472),w=n(274),$=n(72),component=Object(m.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{color:"green",label:"Screenings",type:"number",rules:[function(e){return!!e||"Enter Total No. of Patients / Cases"}]},model:{value:e.pcClinical.screenings,callback:function(t){e.$set(e.pcClinical,"screenings",t)},expression:"pcClinical.screenings"}})],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{color:"green",label:"Registrations",type:"number",rules:[function(e){return!!e||"Enter Total No. of Patients / Cases"}]},model:{value:e.pcClinical.registrations,callback:function(t){e.$set(e.pcClinical,"registrations",t)},expression:"pcClinical.registrations"}})],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{color:"green",label:"Follow-ups",type:"number",rules:[function(e){return!!e||"Enter Total No. of Patients / Cases"}]},model:{value:e.pcClinical.followups,callback:function(t){e.$set(e.pcClinical,"followups",t)},expression:"pcClinical.followups"}})],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{color:"green",label:"Admissions",type:"number",rules:[function(e){return!!e||"Enter Total No. of Patients / Cases"}]},model:{value:e.pcClinical.admissions,callback:function(t){e.$set(e.pcClinical,"admissions",t)},expression:"pcClinical.admissions"}})],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{color:"green",label:"Discharges",type:"number",rules:[function(e){return!!e||"Enter Total No. of Patients / Cases"}]},model:{value:e.pcClinical.discharges,callback:function(t){e.$set(e.pcClinical,"discharges",t)},expression:"pcClinical.discharges"}})],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{color:"green",label:"Deaths",type:"number",rules:[function(e){return!!e||"Enter Total No. of Patients / Cases"}]},model:{value:e.pcClinical.deaths,callback:function(t){e.$set(e.pcClinical,"deaths",t)},expression:"pcClinical.deaths"}})],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{color:"green",label:"Emergencies",type:"number",rules:[function(e){return!!e||"Enter Total No. of Patients / Cases"}]},model:{value:e.pcClinical.emergencies,callback:function(t){e.$set(e.pcClinical,"emergencies",t)},expression:"pcClinical.emergencies"}})],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{color:"green",label:"Referrals - Internal",type:"number",rules:[function(e){return!!e||"Enter Total No. of Patients / Cases"}]},model:{value:e.pcClinical.internal_ref,callback:function(t){e.$set(e.pcClinical,"internal_ref",t)},expression:"pcClinical.internal_ref"}})],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{color:"green",label:"Referrals - External",type:"number",rules:[function(e){return!!e||"Enter Total No. of Patients / Cases"}]},model:{value:e.pcClinical.external_ref,callback:function(t){e.$set(e.pcClinical,"external_ref",t)},expression:"pcClinical.external_ref"}})],1)],1),e._v(" "),n("span",{staticClass:"caption font-weight-light grey lighten-4 px-2 py-1"},[e._v("Note:Clinical services including Inpatient and Outpatient services.")])],1),e._v(" "),n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),e._v(" "),n("v-btn",{staticClass:"mr-2",attrs:{small:"",color:"#d74f4f",dark:""},on:{click:e.reset}},[e._v("\n          Reset\n        ")]),e._v(" "),n("v-btn",{attrs:{small:"",color:"#57a727",dark:""},on:{click:e.addClinical}},[e._v("\n          Submit\n        ")])],1)],1)],1)}),[],!1,null,"46bf065f",null),V=component.exports;h()(component,{VBtn:_.a,VCol:C.a,VContainer:y.a,VForm:I.a,VRow:k.a,VSpacer:w.a,VTextField:$.a});n(17),n(12),n(9),n(7),n(13);var P=n(4),T=n(66);function D(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var O={props:["reportYears"],data:function(){return{valid:!0,loading:!1,annualYear:0,editedItem:{annual_year:0,screenings:0,registrations:0,followups:0,admissions:0,discharges:0,deaths:0,emergencies:0,external_ref:0,internal_ref:0,deleted:!1,department:0},deletedItem:{annual_year:0,screenings:0,registrations:0,followups:0,admissions:0,discharges:0,deaths:0,emergencies:0,external_ref:0,internal_ref:0,deleted:!1,department:0},headers:[{text:"Last Updated",align:"left",value:"updated_at"},{text:"Screenings",value:"screenings"},{text:"Registration",value:"registrations"},{text:"Follow-ups",value:"followups"},{text:"Admissions",value:"admissions"},{text:"Discharges",value:"discharges"},{text:"Deaths",value:"deaths"},{text:"Emergencies",value:"emergencies"},{text:"Internal Ref",value:"internal_ref"},{text:"External Ref",value:"external_ref"},{text:"Actions",value:"action",sortable:!1}],dialog:!1}},mounted:function(){this.annualYear=this.$store.state.selectedYear},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(t){Object(P.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(T.c)({clinicalData:function(e){return e.clinical.clinicalData.result}})),watch:{dialog:function(e){e||this.close()}},methods:{reloadData:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,"",n="department.id=".concat(e.$store.state.auth.user.department,"&deleted_ne=true&annual_year=").concat(e.annualYear),t.next=5,e.$store.dispatch("clinical/setClinicalData",{qs:n});case 5:e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},editItem:function(e){this.editedIndex=this.clinicalData.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this;this.deletedItem=Object.assign({},e),this.deletedItem.deleted=!0;var n=this.deletedItem;confirm("Are you sure you want to delete this item?")&&this.$store.dispatch("clinical/updateClinical",n).then((function(e){f.a.fire({title:"Success",text:"Deleted Successfully!",icon:"success",showConfirmButton:!1,timer:1500}),t.reloadData()})).catch((function(e){t.snackbar=!0,t.submitMessage=e}))},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.publicData=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)},save:function(){var e=this;if(this.$refs.editedForm.validate()){if(this.editedIndex>-1){var t=this.editedItem;console.log(t),this.$store.dispatch("clinical/updateClinical",t).then((function(t){f.a.fire({title:"Success",text:"Updated Successfully!",icon:"success",showConfirmButton:!1,timer:1500}),e.reloadData()})).catch((function(t){e.snackbar=!0,e.submitMessage=t}))}this.close()}}}},E=(n(762),n(97)),S=n(26),j=n(823),Y=n(266),R=n(198),N=n(98),A=n(475),F=n(60),L=n(99),M=n(473),z=Object(m.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-data-table",{staticClass:"elevation-1",staticStyle:{"border-radius":"0"},attrs:{headers:e.headers,items:e.clinicalData,"sort-by":"updated_at","sort-desc":"",loading:e.loading,"loading-text":"Loading... Please wait"},scopedSlots:e._u([{key:"item.updated_at",fn:function(t){var n=t.item;return[e._v("\n      "+e._s(e.$moment(n.updated_at).fromNow())+"\n    ")]}},{key:"top",fn:function(){return[n("v-toolbar",{staticClass:"d-flex justify pt-1",staticStyle:{"border-radius":"0"},attrs:{color:"#f2f2f2",flat:""}},[n("v-toolbar-title",[n("span",{staticClass:"frm-title"},[e._v("Clinical Services")])]),e._v(" "),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e._v(" "),n("v-select",{staticClass:"justify-end mt-6",attrs:{color:"green",items:e.reportYears,"item-text":"val","item-value":"id",label:"Reporting Year",required:""},on:{change:function(t){return e.reloadData()}},model:{value:e.annualYear,callback:function(t){e.annualYear=t},expression:"annualYear"}}),e._v(" "),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e._v(" "),n("v-tooltip",{attrs:{right:"",color:"blue-grey darken-2"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({attrs:{"x-small":"",fab:"",color:"green",dark:""},on:{click:e.reloadData}},r),[n("v-icon",[e._v("mdi-reload")])],1)]}}])},[e._v(" "),n("span",[e._v("Reload Data")])]),e._v(" "),n("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",{attrs:{flat:""}},[n("v-toolbar",{attrs:{dark:"",color:"#41704e"}},[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[n("v-icon",[e._v("mdi-close")])],1),e._v(" "),n("v-toolbar-title",[e._v("Clinical Services")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-toolbar-items",[n("v-btn",{attrs:{dark:"",text:""},on:{click:e.close}},[e._v("\n                  Cancel\n                ")]),e._v(" "),n("v-btn",{attrs:{dark:"",text:""},on:{click:e.save}},[e._v("\n                  Save\n                ")])],1)],1),e._v(" "),n("v-card-text",[n("v-form",{ref:"editedForm",attrs:{"lazy-validation":""},on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{color:"green",label:"Screenings",type:"number",rules:[function(e){return!!e||"Enter Total No. of Patients / Cases"}]},model:{value:e.editedItem.screenings,callback:function(t){e.$set(e.editedItem,"screenings",t)},expression:"editedItem.screenings"}})],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{color:"green",label:"Registrations",type:"number",rules:[function(e){return!!e||"Enter Total No. of Patients / Cases"}]},model:{value:e.editedItem.registrations,callback:function(t){e.$set(e.editedItem,"registrations",t)},expression:"editedItem.registrations"}})],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{color:"green",label:"Follow-ups",type:"number",rules:[function(e){return!!e||"Enter Total No. of Patients / Cases"}]},model:{value:e.editedItem.followups,callback:function(t){e.$set(e.editedItem,"followups",t)},expression:"editedItem.followups"}})],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{color:"green",label:"Admissions",type:"number",rules:[function(e){return!!e||"Enter Total No. of Patients / Cases"}]},model:{value:e.editedItem.admissions,callback:function(t){e.$set(e.editedItem,"admissions",t)},expression:"editedItem.admissions"}})],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{color:"green",label:"Discharges",type:"number",rules:[function(e){return!!e||"Enter Total No. of Patients / Cases"}]},model:{value:e.editedItem.discharges,callback:function(t){e.$set(e.editedItem,"discharges",t)},expression:"editedItem.discharges"}})],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{color:"green",label:"Deaths",type:"number",rules:[function(e){return!!e||"Enter Total No. of Patients / Cases"}]},model:{value:e.editedItem.deaths,callback:function(t){e.$set(e.editedItem,"deaths",t)},expression:"editedItem.deaths"}})],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{color:"green",label:"Emergencies",type:"number",rules:[function(e){return!!e||"Enter Total No. of Patients / Cases"}]},model:{value:e.editedItem.emergencies,callback:function(t){e.$set(e.editedItem,"emergencies",t)},expression:"editedItem.emergencies"}})],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{color:"green",label:"Referrals - Internal",type:"number",rules:[function(e){return!!e||"Enter Total No. of Patients / Cases"}]},model:{value:e.editedItem.internal_ref,callback:function(t){e.$set(e.editedItem,"internal_ref",t)},expression:"editedItem.internal_ref"}})],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{color:"green",label:"Referrals - External",type:"number",rules:[function(e){return!!e||"Enter Total No. of Patients / Cases"}]},model:{value:e.editedItem.external_ref,callback:function(t){e.$set(e.editedItem,"external_ref",t)},expression:"editedItem.external_ref"}})],1)],1)],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var r=t.item;return[n("v-icon",{attrs:{centre:"",color:"green"},on:{click:function(t){return e.editItem(r)}}},[e._v("mdi-pencil-box")]),e._v(" "),n("v-icon",{attrs:{centre:"",color:"error"},on:{click:function(t){return e.deleteItem(r)}}},[e._v("mdi-delete-circle")])]}}])})],1)}),[],!1,null,"05bb2bee",null),B=z.exports;h()(z,{VBtn:_.a,VCard:E.a,VCardText:S.b,VCol:C.a,VContainer:y.a,VDataTable:j.a,VDialog:Y.a,VDivider:R.a,VForm:I.a,VIcon:N.a,VRow:k.a,VSelect:A.a,VSpacer:w.a,VTextField:$.a,VToolbar:F.a,VToolbarItems:L.a,VToolbarTitle:L.b,VTooltip:M.a});var H={head:function(){return{title:"Clinical Services"}},components:{PageHeader:l.a,YearDialog:o.a,PatientCare:c.a,ClinicalForm:V,ClinicalTable:B},data:function(){return{selectedYear:0}},computed:{reportYears:function(){return this.$store.state.reportYears}},fetch:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.store,"",r="department.id=".concat(n.state.auth.user.department,"&deleted_ne=true&annual_year=").concat(n.state.selectedYear),t.next=5,n.dispatch("clinical/setClinicalData",{qs:r});case 5:case"end":return t.stop()}}),t)})))()}},J=(n(764),n(795)),U=n(850),G=n(827),K=Object(m.a)(H,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-tabs",{attrs:{flat:"","background-color":"#323232",color:"#6ac447",dark:""}},[n("v-tab",[n("span",{staticClass:"mdi mdi-note-outline cust-icon"}),e._v("\n      Patient Care Activities\n    ")]),e._v(" "),n("v-tab",[n("span",{staticClass:"mdi mdi-table cust-icon"}),e._v("\n      Records\n    ")]),e._v(" "),n("v-tab-item",[n("v-card",{attrs:{tile:""}},[n("v-card-text",[0==e.$store.state.selectedYear?n("YearDialog"):e._e(),e._v(" "),n("PageHeader",{staticClass:"ml-0 pb-0 pt-0",attrs:{title:e.$metaInfo.title,reportYears:e.reportYears,selectedYear:e.$store.state.selectedYear}}),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12",md:"3",lg:"3"}},[n("v-card",{staticClass:"mx-auto"},[n("PatientCare")],1)],1),e._v(" "),n("v-col",{attrs:{cols:"12",md:"9",lg:"9"}},[n("ClinicalForm")],1)],1)],1)],1)],1),e._v(" "),n("v-tab-item",[n("v-card",{attrs:{flat:""}},[n("v-card-text",{staticClass:"px-0 py-1"},[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("ClinicalTable",{attrs:{reportYears:e.reportYears}})],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,"10567952",null);t.default=K.exports;h()(K,{VCard:E.a,VCardText:S.b,VCol:C.a,VRow:k.a,VTab:J.a,VTabItem:U.a,VTabs:G.a})}}]);